extends ../../layout/index.pug
block main
  - if (messages.update)
    .message.update
      .alert.alert-success(
    show-alert
    data-time = "5000") #{messages.update}

  - if (messages.delete)
    .message.delete
      .alert.alert-danger(
    show-alert
    data-time = "5000") #{messages.delete}
  h1 #{titlePage}
  .text-right
    button.btn.btn-primary.mb-3.mr-3.btn-lg(id='savePermissionBtn') Save
  .card 
    .card-body   
      .card-title Permission Manager
        if(role) 
          div(data-record=role)
        table.table.table-hover.table-sm(id='savePermissionTable')
          thead
            tr 
              th Feature
              each item in role 
                th.text-center #{item.title} 
          tbody 
            tr(data-name='id').d-none
              td ID
              each item in role 
                td 
                  input(value = item.id)
            tr 
              th Category
            tr(data-name='view-category')
              td View
              each item in role 
                td.text-center
                  input(type='checkbox')
            tr(data-name='create-category')
              td Create
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='edit-category') 
              td Edit 
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='delete-category')
              td Delete
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr 
              th Product 
            tr(data-name='view-product')
              td Xem 
              each item in role 
                td.text-center
                  input(type='checkbox')
            tr(data-name='create-product') 
              td Create
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='edit-product') 
              td Edit 
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='delete-product')
              td Delete
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr 
              th Role
            tr(data-name='view-permission')
              td View 
              each item in role 
                td.text-center
                  input(type='checkbox')
            tr(data-name='create-permission')
              td Create
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='edit-permission') 
              td Edit 
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='delete-permission')
              td Delete
              each item in role 
                td.text-center 
                  input(type='checkbox')
            tr(data-name='roles-permission')
              td Permission
              each item in role 
                td.text-center 
                  input(type='checkbox')
  form(id='permissionForm' action='/admin/role/permission?_method=PATCH' method='POST')
    input#data.d-none(name='objectPermission')
  script(src='/js/role.js')